<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>HYLImageManager by lionhylra</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">HYLImageManager</h1>
      <h2 class="project-tagline">This is a convenience CRUD tool for image files in iOS file system</h2>
      <a href="https://github.com/lionhylra/HYLImageManager" class="btn">View on GitHub</a>
      <a href="https://github.com/lionhylra/HYLImageManager/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/lionhylra/HYLImageManager/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="what-is-it" class="anchor" href="#what-is-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is it?</h1>

<p>HYLImageManager is a convenience CRUD tool for image files in iOS file system. It is a simplified version of NSFileManager providing only simple CRUD methods with using a file name. This module is suitable for foundamental objective-c programmers who needs to save image or other file to persistent store. </p>

<p>For example, when you finish downloading a image, you may need to cache or store in local file system for later use. So you can just call <code>[[HYLImageManager defaultManager] saveImage:image withImageName:@"demoImage.png"</code>. When you want to get it back, just call <code>UIImage* image = [[HYLImageManager defaultManager] imageWithName:@"demoImage.png"</code>.</p>

<h1>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use?</h1>

<p>Firstly, initialize a instance of HYLImageManager. If you don't care where the image is stored, just use the singleton instance.
Using it is quite simple.</p>

<pre><code>
HYLImageManager *manager = [HYLImageManager defaultManager];
</code></pre>

<p>In this case all the image file will be stored into a default folder "UserDocuments" under /Documents. Or you can specify the directory path by initialize a instance.</p>

<pre><code>
HYLImageManager *manager = [[HYLImageManager alloc] initWithRootPathComponents:@[@"folderA",@"folderB"];
</code></pre>

<p>In this case, the target path of operation will be <code>/Documents/folderA/folderB</code></p>

<p>Then use other methods as-is. Choose one class according to your needs.</p>

<ul>
<li>HYLImageManager.h Choose this if you don't need to specify the directory of image file and don't need thumbnail.</li>
<li>HYLImageManager+Thumbnail.h Choose this if you want keep a thumbnail copy of the image. The thumbnail is resized to 100 pixels height and 133 width</li>
<li>HYLImageManager+Cache.h Choose this if you don't need to save image to a persistent location. For example, you want to save images from posts of social networking app.</li>
<li>HYLIMageManager+Thumbnail+Cache.h Choose this if you want to save image into cache and meanwhile keep thumbnail.</li>
</ul>

<h3>
<a id="hylimagemanager" class="anchor" href="#hylimagemanager" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLImageManager</h3>

<h6>
<a id="-fetch-image" class="anchor" href="#-fetch-image" aria-hidden="true"><span class="octicon octicon-link"></span></a># fetch image</h6>

<pre><code>
-(UIImage *)imageWithName:(NSString *)imageName;
</code></pre>

<h6>
<a id="-save-image" class="anchor" href="#-save-image" aria-hidden="true"><span class="octicon octicon-link"></span></a># save image</h6>

<pre><code>
- (void)saveImage:(UIImage *)image withImageName:(NSString *)imageName;
</code></pre>

<h6>
<a id="-save-image-using-a-generated-nametimestamp-the-image-name-will-be-returned" class="anchor" href="#-save-image-using-a-generated-nametimestamp-the-image-name-will-be-returned" aria-hidden="true"><span class="octicon octicon-link"></span></a># save image using a generated name(timestamp). The image name will be returned.</h6>

<p><strong>Note, store the name or keep a reference of the name. You need use this name to fetch image again.</strong></p>

<pre><code>
-(NSString *)saveImage:(UIImage *)image;
</code></pre>

<h6>
<a id="-delete-image" class="anchor" href="#-delete-image" aria-hidden="true"><span class="octicon octicon-link"></span></a># delete image</h6>

<pre><code>
- (BOOL)deleteImageWithImageName:(NSString *)imageName error:(NSError **)error;
</code></pre>

<h6>
<a id="-rename-image" class="anchor" href="#-rename-image" aria-hidden="true"><span class="octicon octicon-link"></span></a># rename image</h6>

<pre><code>
- (BOOL)renameImageFromImageName:(NSString *)oldImageName toNewImageName:(NSString *)newImageName error:(NSError **)error;
</code></pre>

<h3>
<a id="hylimagemanagerthumbnail" class="anchor" href="#hylimagemanagerthumbnail" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLImageManager+Thumbnail</h3>

<p>This is a thumbnail version of HYLImageManager. All READ operation in this version has a flag for thumbnail. For save, delete and rename operations, they apply to both big image and thumnail. All thumbnails are saved into a directory called thumbnail. If your image file path is /Documents/folderA/folderB/aImage.png the path of the thumbnail will be in /Documents/folderA/folderB/thumbnail/aImage.png</p>

<h3>
<a id="hylimagemanagercache" class="anchor" href="#hylimagemanagercache" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLImageManager+Cache</h3>

<p>This is a similar version of HYLImageManager. The only difference is this image manager save image to /Library/Caches, and it is possible that images may be removed by system under some circumstance.</p>

<h3>
<a id="hylimagemanagerthumbnailcache" class="anchor" href="#hylimagemanagerthumbnailcache" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLImageManager+Thumbnail+Cache</h3>

<p>This is a cache version of HYLImageManager+Thumbnail. Similar to HYLImageManager+Cache, it save image files to /Library/Caches.</p>

<h3>
<a id="note" class="anchor" href="#note" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note</h3>

<p>All non-thumbnail images will be resized to maximum width 800 and maximum height 600 while keeping the original ratio and will be compressed by 50%. If you want to change this setting, look at UIImage+Store.m and modify</p>

<pre><code>
static float const kDefaultMaxWidth = 800.0;
static float const kDefaultMaxHeight = 600.0;
static float const kDefaultCompressQuality = 0.5;
</code></pre>

<p>If you don't want resize and compress, change kDefaultMaxWidth and kDefaultMaxHeight to 0 and kDefaultCompressQuality to 1.0 .</p>

<h1>
<a id="utility-classes" class="anchor" href="#utility-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Utility Classes</h1>

<h3>
<a id="uiimagestore" class="anchor" href="#uiimagestore" aria-hidden="true"><span class="octicon octicon-link"></span></a>UIImage+Store</h3>

<p>This UIImage Category is used in all HYLImageManager. If you want to specify your own path instead of image name in operation, just use this Category.</p>

<h1>
<a id="bonus" class="anchor" href="#bonus" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bonus</h1>

<h3>
<a id="hyldownloadmanager" class="anchor" href="#hyldownloadmanager" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLDownloadManager</h3>

<p>This is a class used to handle concurrent downloading tasks and download file to yor desinated path. Initialize it like a HYLImageManager and use <code>- (NSURLSessionDownloadTask *)startDownloadTaskWithURL:(NSString *)urlString;</code> to create and start background downloading tasks. Use <code>- (NSURLSessionDownloadTask *)downloadingTaskWithURL:(NSString *)urlString;</code> to keep track of existing tasks. No matter your app enters background or terminated by system, these downloading tasks will keep going util finish as long as the network is available. </p>

<p>Call <code>- (void)retrievingDownloadingTasks;</code> in UIApplicationDelegate when app become active to ensure the manager keep tracks of all ongoing download tasks. Use <code>- (NSURLSessionDownloadTask *)downloadingTaskWithURL:(NSString *)urlString;</code> to check if a task is ongoing.</p>

<p>If you want to monitor the progresses of all downloading tasks, just register your tableViewController to <code>kDownloadManagerProgressDidChangeNotification</code> notification. The notification.object is a instance of NSURLSessionDownloadTask, and notification.userinfo[kDownloadManagerUserInfoProgress] returns a float number between 0.0 and 1.0 indicate the progress of that task. Each time the progress changes, the task will send this notification.</p>

<p><img src="https://github.com/lionhylra/HYLImageManager/blob/master/downloading.gif?raw=true" alt="Alt downloading demo"></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/lionhylra/HYLImageManager">HYLImageManager</a> is maintained by <a href="https://github.com/lionhylra">lionhylra</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

